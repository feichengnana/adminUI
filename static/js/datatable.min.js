var Dtools=function(){var t,e,a,n,r,i,o=!1,l={},s=function(){var e=$('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).size(),n=t.dataTable.language.uiGroupActions;e>0?$(".table-group-actions > span",r).text(n.replace("_TOTAL_",e)):$(".table-group-actions > span",r).text("")};return{init:function(c){if($().dataTable){i=this,c=$.extend(!0,{src:"",filterApplyAction:"filter",filterCancelAction:"filter_cancel",resetGroupActionInputOnSuccess:!0,loadingMessage:"加载中...",dataTable:{order:[],dom:'<"clearfix"<"#table-btns.pull-left"><"pull-right" B><"pull-right mr-10" f>>t<"clearfix dt-footer-wrapper" <"pull-left" <"inline-block" i><"inline-block"l>><"pull-right" p>>',pageLength:10,language:{uiGroupActions:"共选中 _TOTAL_ 条数据:  ",uiAjaxRequestGeneralError:"请求失败，请检查网络设置是否正确！",processing:"处理中..."},oLanguage:{sProcessing:"处理中...",sLengthMenu:"&nbsp;&nbsp;&nbsp;&nbsp;每页显示  _MENU_ 条记录",sZeroRecords:"没有匹配结果",sInfo:"当前为第 _START_ 至 _END_ 条记录，共 _TOTAL_ 条记录",sInfoEmpty:"当前为第 0 至 0 条记录，共 0 项",sInfoFiltered:"(由 _MAX_ 条记录结果过滤)",sInfoPostFix:"",sSearch:"",sSearchPlaceholder:"输入关键字筛选表格",sUrl:"",sDecimal:"",sThousands:",",sEmptyTable:"表中数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上页",sNext:"下页",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"},buttons:{copy:"<i title='复制到剪切板' class='fa fa-copy'></i>",excel:"<i title='导出表格' class='fa fa-table'></i>",pdf:"<i title='导出PDF' class='fa fa-file-pdf-o'></i>",colvis:"<i title='列' class='glyphicon glyphicon-th'></i>",copyTitle:"复制到剪切板",copySuccess:{1:"已经复制当前记录到剪贴板",_:"已经复制 %d 条记录到剪切板"}}},orderCellsTop:!0,columnDefs:[{orderable:!1,targets:[0]}],autoWidth:!1,processing:!0,serverSide:!0,scrollX:!0,scrollCollapse:!0,processing:!0,paging:!0,ajax:{url:"",type:"POST",timeout:2e4,data:function(e){$.each(l,function(t,a){e[t]=a}),App.blockUI({message:t.loadingMessage,target:n,overlayColor:"none",cenrerY:!0,boxed:!0})},dataSrc:function(t){return t.data},error:function(){t.onError&&t.onError.call(void 0,i),App.alert({type:"danger",icon:"warning",message:t.dataTable.language.uiAjaxRequestGeneralError,container:r,place:"prepend"}),App.unblockUI(n)}},drawCallback:function(e){!1===o&&(o=!0,a.show()),s(),t.onDataLoad&&t.onDataLoad.call(void 0,i)}}},c),t=c,a=$(c.src),n=a.parents(".table-container");var p=$.fn.dataTableExt.oStdClasses;$.fn.dataTableExt.oStdClasses.sWrapper=$.fn.dataTableExt.oStdClasses.sWrapper+" dataTables_extended_wrapper",$.fn.dataTableExt.oStdClasses.sFilterInput="form-control input-xs input-sm input-inline",$.fn.dataTableExt.oStdClasses.sLengthSelect="form-control input-xs input-sm input-inline",console.log(JSON.stringify(t.dataTable)),e=a.DataTable(c.dataTable),$.fn.dataTableExt.oStdClasses.sWrapper=p.sWrapper,$.fn.dataTableExt.oStdClasses.sFilterInput=p.sFilterInput,$.fn.dataTableExt.oStdClasses.sLengthSelect=p.sLengthSelect,r=a.parents(".dataTables_wrapper"),1===$(".table-actions-wrapper",n).size()&&($(".table-group-actions",r).html($(".table-actions-wrapper",n).html()),$(".table-actions-wrapper",n).remove()),$(".group-checkable",a).change(function(){var t=a.find('tbody > tr > td:nth-child(1) input[type="checkbox"]'),e=$(this).prop("checked");$(t).each(function(){$(this).prop("checked",e)}),s()}),a.on("change",'tbody > tr > td:nth-child(1) input[type="checkbox"]',function(){s()}),a.on("click",".filter-submit",function(t){t.preventDefault(),i.submitFilter()}),a.on("click",".filter-cancel",function(t){t.preventDefault(),i.resetFilter()})}},submitFilter:function(){i.setAjaxParam("action",t.filterApplyAction),$('textarea.form-filter, select.form-filter, input.form-filter:not([type="radio"],[type="checkbox"])',a).each(function(){i.setAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="checkbox"]:checked',a).each(function(){i.addAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="radio"]:checked',a).each(function(){i.setAjaxParam($(this).attr("name"),$(this).val())}),e.ajax.reload()},resetFilter:function(){$("textarea.form-filter, select.form-filter, input.form-filter",a).each(function(){$(this).val("")}),$('input.form-filter[type="checkbox"]',a).each(function(){$(this).attr("checked",!1)}),i.clearAjaxParams(),i.addAjaxParam("action",t.filterCancelAction),e.ajax.reload()},getSelectedRowsCount:function(){return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).size()},getSelectedRows:function(){var t=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',a).each(function(){t.push($(this).val())}),t},setAjaxParam:function(t,e){l[t]=e},addAjaxParam:function(t,e){l[t]||(l[t]=[]),skip=!1;for(var a=0;a<l[t].length;a++)l[t][a]===e&&(skip=!0);!1===skip&&l[t].push(e)},clearAjaxParams:function(t,e){l={}},getDataTable:function(){return e},getTableWrapper:function(){return r},gettableContainer:function(){return n},getTable:function(){return a}}};